# ═══════════════════════════════════════════════════════════
# BharatMart Configuration
# ═══════════════════════════════════════════════════════════
# Choose your deployment mode and services below
# Documentation: See CONFIGURATION_GUIDE.md for detailed info
# ═══════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────
# DEPLOYMENT MODE
# ───────────────────────────────────────────────────────────
# Options: single-vm | multi-tier | kubernetes
# - single-vm: Everything on one server (easiest, $0-50/month)
# - multi-tier: Separate services, auto-scaling ($150-300/month)
# - kubernetes: Container orchestration ($50-150/month)
DEPLOYMENT_MODE=single-vm

# ───────────────────────────────────────────────────────────
# SECRETS MANAGEMENT
# ───────────────────────────────────────────────────────────
# How do you want to store sensitive data (passwords, keys)?
# Options: env | oci-vault | aws-secrets | azure-keyvault
# - env: Store in this file (simple, less secure)
# - oci-vault: Use OCI Vault (enterprise, auto-rotation)
SECRETS_PROVIDER=env

# If using OCI Vault (SECRETS_PROVIDER=oci-vault):
# OCI_VAULT_OCID=ocid1.vault.oc1.iad.xxx
# OCI_VAULT_ENDPOINT=https://xxx.vaults.us-ashburn-1.oci.oraclecloud.com
# OCI_CONFIG_FILE=/home/user/.oci/config
# OCI_CONFIG_PROFILE=DEFAULT

# ───────────────────────────────────────────────────────────
# APPLICATION CONFIGURATION PROVIDER
# ───────────────────────────────────────────────────────────
# Where do you want to store app config?
# Options: env | oci-app-config | aws-appconfig
CONFIG_PROVIDER=env

# If using OCI Application Configuration:
# OCI_APP_CONFIG_ID=ocid1.appconfig.oc1.iad.xxx

# ───────────────────────────────────────────────────────────
# DATABASE CONFIGURATION
# ───────────────────────────────────────────────────────────
# Which database do you want to use?
# Options: supabase | postgresql | oci-autonomous | mysql
# - supabase: Easiest, has free tier, auto-scaling
# - postgresql: Self-hosted, full control
# - oci-autonomous: Oracle managed, enterprise features
DATABASE_TYPE=supabase

# ┌─────────────────────────────────────────────────────────┐
# │ OPTION 1: Supabase (Recommended for Quick Start)       │
# └─────────────────────────────────────────────────────────┘
# Get these from: https://supabase.com → Your Project → Settings → API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx

# ┌─────────────────────────────────────────────────────────┐
# │ OPTION 2: Self-Hosted PostgreSQL                       │
# └─────────────────────────────────────────────────────────┘
# Uncomment and configure if DATABASE_TYPE=postgresql:
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=bharatmart
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your-secure-password
# POSTGRES_SSL=true

# ┌─────────────────────────────────────────────────────────┐
# │ OPTION 3: OCI Autonomous Database                      │
# └─────────────────────────────────────────────────────────┘
# Uncomment and configure if DATABASE_TYPE=oci-autonomous:
# OCI_DB_CONNECTION_STRING=tcps://adb.us-ashburn-1.oraclecloud.com:1522/xxx_high.adb.oraclecloud.com
# OCI_DB_USER=admin
# OCI_DB_PASSWORD=YourPassword123!
# OCI_DB_WALLET_PATH=/opt/oracle/wallet

# ┌─────────────────────────────────────────────────────────┐
# │ OPTION 4: MySQL/MariaDB                                │
# └─────────────────────────────────────────────────────────┘
# Uncomment and configure if DATABASE_TYPE=mysql:
# MYSQL_HOST=localhost
# MYSQL_PORT=3306
# MYSQL_DB=bharatmart
# MYSQL_USER=root
# MYSQL_PASSWORD=your-password

# ───────────────────────────────────────────────────────────
# BACKGROUND WORKERS (Job Processing)
# ───────────────────────────────────────────────────────────
# How should time-consuming tasks be handled?
# Options: in-process | bull-queue | oci-queue | sqs | none
# - in-process: Runs immediately (simple, single VM)
# - bull-queue: Separate workers with Redis (production recommended)
# - oci-queue: OCI Queue service (managed, serverless)
# - none: Skip background tasks (dev only)
WORKER_MODE=in-process

# ┌─────────────────────────────────────────────────────────┐
# │ Bull Queue with Redis (WORKER_MODE=bull-queue)         │
# └─────────────────────────────────────────────────────────┘
# QUEUE_REDIS_URL=redis://localhost:6379
# WORKER_CONCURRENCY=5

# ┌─────────────────────────────────────────────────────────┐
# │ OCI Queue Service (WORKER_MODE=oci-queue)              │
# └─────────────────────────────────────────────────────────┘
# OCI_QUEUE_OCID=ocid1.queue.oc1.iad.xxx
# OCI_CONFIG_FILE=/home/user/.oci/config

# ┌─────────────────────────────────────────────────────────┐
# │ AWS SQS (WORKER_MODE=sqs)                              │
# └─────────────────────────────────────────────────────────┘
# AWS_SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123/bharatmart
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=xxx
# AWS_REGION=us-east-1

# ───────────────────────────────────────────────────────────
# CACHE CONFIGURATION
# ───────────────────────────────────────────────────────────
# What caching system do you want?
# Options: memory | redis | oci-cache | memcached
# - memory: In-process (simple, single VM)
# - redis: External Redis (production recommended)
# - oci-cache: OCI Cache service
CACHE_TYPE=memory

# ┌─────────────────────────────────────────────────────────┐
# │ Redis Cache (CACHE_TYPE=redis)                         │
# └─────────────────────────────────────────────────────────┘
# CACHE_REDIS_URL=redis://localhost:6379

# ┌─────────────────────────────────────────────────────────┐
# │ OCI Cache Service (CACHE_TYPE=oci-cache)               │
# └─────────────────────────────────────────────────────────┘
# OCI_CACHE_ENDPOINT=redis://oci-cache.us-ashburn-1.oci.oraclecloud.com:6379

# ───────────────────────────────────────────────────────────
# FRONTEND CONFIGURATION
# ───────────────────────────────────────────────────────────
# Frontend needs to know where backend API is
VITE_API_URL=http://localhost:3000

# Frontend uses same Supabase credentials
VITE_SUPABASE_URL=${SUPABASE_URL}
VITE_SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}

# ───────────────────────────────────────────────────────────
# SERVER CONFIGURATION
# ───────────────────────────────────────────────────────────
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173

# ───────────────────────────────────────────────────────────
# MONITORING & OBSERVABILITY
# ───────────────────────────────────────────────────────────
ENABLE_METRICS=true
METRICS_PORT=9090

# ───────────────────────────────────────────────────────────
# QUICK START PRESETS
# ───────────────────────────────────────────────────────────
# Uncomment one of these presets for quick configuration:

# ┌─────────────────────────────────────────────────────────┐
# │ PRESET 1: Local Development (Fastest)                  │
# │ Time: 5 minutes | Cost: Free                           │
# └─────────────────────────────────────────────────────────┘
# DEPLOYMENT_MODE=single-vm
# SECRETS_PROVIDER=env
# DATABASE_TYPE=supabase
# WORKER_MODE=in-process
# CACHE_TYPE=memory

# ┌─────────────────────────────────────────────────────────┐
# │ PRESET 2: Single VM Production                         │
# │ Time: 30 minutes | Cost: $10-50/month                  │
# └─────────────────────────────────────────────────────────┘
# DEPLOYMENT_MODE=single-vm
# SECRETS_PROVIDER=env
# DATABASE_TYPE=supabase
# WORKER_MODE=bull-queue
# CACHE_TYPE=redis
# QUEUE_REDIS_URL=redis://localhost:6379
# CACHE_REDIS_URL=redis://localhost:6379

# ┌─────────────────────────────────────────────────────────┐
# │ PRESET 3: Multi-Tier with OCI Services                 │
# │ Time: 2-3 hours | Cost: $150-300/month                 │
# └─────────────────────────────────────────────────────────┘
# DEPLOYMENT_MODE=multi-tier
# SECRETS_PROVIDER=oci-vault
# DATABASE_TYPE=oci-autonomous
# WORKER_MODE=oci-queue
# CACHE_TYPE=oci-cache

# ┌─────────────────────────────────────────────────────────┐
# │ PRESET 4: Hybrid (OCI + Supabase)                      │
# │ Time: 1 hour | Cost: $50-150/month                     │
# └─────────────────────────────────────────────────────────┘
# DEPLOYMENT_MODE=multi-tier
# SECRETS_PROVIDER=oci-vault
# DATABASE_TYPE=supabase
# WORKER_MODE=bull-queue
# CACHE_TYPE=redis

# ═══════════════════════════════════════════════════════════
# NOTES
# ═══════════════════════════════════════════════════════════
# 1. For detailed configuration guide, see: CONFIGURATION_GUIDE.md
# 2. For deployment instructions, see: deployment/README.md
# 3. Security: Never commit this file with real credentials
# 4. Use .env.local for local overrides (git-ignored)
# ═══════════════════════════════════════════════════════════
